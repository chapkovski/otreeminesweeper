(function(e){function t(t){for(var n,o,r=t[0],a=t[1],c=t[2],u=0,f=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&f.push(s[o][0]),s[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);d&&d(t);while(f.length)f.shift()();return l.push.apply(l,c||[]),i()}function i(){for(var e,t=0;t<l.length;t++){for(var i=l[t],n=!0,r=1;r<i.length;r++){var a=i[r];0!==s[a]&&(n=!1)}n&&(l.splice(t--,1),e=o(o.s=i[0]))}return e}var n={},s={main:0},l=[];function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=n,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/front/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],a=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=a;l.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"23be":function(e,t,i){},"25e6":function(e,t,i){},"3c34":function(e,t,i){"use strict";i("b6bc")},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("a026"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("v-app",[i("v-app-bar",{attrs:{app:""}},[i("div",[e._v("Total number of clicks: "+e._s(e.totclicks))]),e._e()]),i("v-main",[i("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"form-data"},[i("input",{attrs:{type:"hidden",name:"total_clicks"},domProps:{value:e.totclicks}}),e._l(e.grids,(function(e,t){return i("div",{key:t},[i("input",{attrs:{type:"hidden",name:"clicks_"+(t+1)},domProps:{value:e.clicksTo100}}),i("input",{attrs:{type:"hidden",name:"clicks80_"+(t+1)},domProps:{value:e.clicksTo80}})])}))],2),i("v-container",[i("v-row",[i("v-col",[i("v-card",[i("v-card-text",[i("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th",{staticClass:"text-left"},[e._v(" Grid Number ")]),i("th",{staticClass:"text-left"},[e._v(" Potential financial loss ")]),i("th",{staticClass:"text-left"},[e._v(" Clicks used per grid ")]),i("th",{staticClass:"text-left"}),i("th",{staticClass:"text-left"},[e._v("Grid done:")])])]),i("tbody",e._l(e.grids,(function(t,n){return i("tr",{key:n},[i("td",[e._v(e._s(n+1))]),i("td",[e._v(" $"+e._s(((t.lb+t.ub)/2*t.bombs).toFixed(2))+" ")]),i("td",[e._v(e._s(t.used_clicks))]),i("td",[i("game-dialog",e._b({attrs:{id:n}},"game-dialog",t,!1))],1),i("td",[e._v(e._s(t.done?"Yes":"No"))])])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)],1),i("transition",{attrs:{"enter-active-class":"animate__animated animate__backInUp animate__slow"}},[e.allGridsDone()?i("v-bottom-navigation",{attrs:{grow:""}},[i("v-btn",{staticClass:"my-btn",attrs:{elevation:"2",color:"error","x-large":"",type:"submit"}},[e._v(" Next ")])],1):e._e()],1)],1)],1)},l=[],o=i("5530"),r=i("2f62"),a={name:"app",data:function(){return{}},computed:Object(o["a"])(Object(o["a"])({},Object(r["d"])(["totclicks","grids"])),Object(r["b"])(["allGridsDone"])),methods:{}},c=a,d=(i("5c0b"),i("2877")),u=i("6544"),f=i.n(u),m=i("7496"),b=i("40dc"),h=i("b81c"),p=i("8336"),v=i("b0af"),_=i("99d9"),g=i("62ad"),k=i("a523"),C=i("f6c4"),y=i("0fd9"),x=i("1f4f"),w=Object(d["a"])(c,s,l,!1,null,null,null),O=w.exports;f()(w,{VApp:m["a"],VAppBar:b["a"],VBottomNavigation:h["a"],VBtn:p["a"],VCard:v["a"],VCardText:_["b"],VCol:g["a"],VContainer:k["a"],VMain:C["a"],VRow:y["a"],VSimpleTable:x["a"]});var S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"header"}},[i("h1",{staticClass:"title"},[e._v(e._s(e.title))])])},M=[],j={data:function(){return{title:"Minesweeper"}}},R=j,I=(i("abe6"),Object(d["a"])(R,S,M,!1,null,null,null)),D=I.exports,V=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},N=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"footer"}},[e._v(" Made by Jeroen Smienk ❤ - "),i("a",{attrs:{href:"https://github.com/jsmienk/MinesweeperVue",target:"_blank"}},[e._v("GitHub")])])}],E={data:function(){return{}}},L=E,A=(i("94e7"),Object(d["a"])(L,V,N,!1,null,null,null)),T=A.exports,$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"game"}},[i("h4",{staticClass:"game-state"},[e._v("Number of clicks used in this grid: "+e._s(e.clicks))]),i("h4",{staticClass:"game-state"},[e._v("Total number of clicks used: "+e._s(e.totclicks))]),i("p",[e._v(e._s(e.bombStateText))]),i("minesweeper-field",{attrs:{minefield:e.minefield},on:{onCellLeftClicked:e.onCellClicked,onCellRightClicked:e.onCellFlagged}}),e._e()],1)},G=[],B=(i("a9e3"),i("a434"),i("2ef0")),P=i.n(B),F={props:{id:Number,bombIcon:{type:String,default:"💣"},flagIcon:{type:String,default:"❗"},rows:{type:Number,default:10},columns:{type:Number,default:10},bombs:{type:Number,default:10}},data:function(){return{fieldSizeDefault:10,fieldSizeMin:5,fieldSizeMax:50,fieldSize:10,mineModeEnabled:!0,minefield:[[{x:0,y:0,isBomb:!1,isRevealed:!1,isMarked:!1,proximityCount:0}]],firstClickHappened:!1,bombList:[],amountOfCellsMarked:0,amountOfBombs:0,gameOver:!1,gameStateText:""}},created:function(){this.prepareNewGame()},watch:{amountOfCellsMarked:function(e){P.a.has(this.mygrid,"clicksTo80")||e/this.bombs>.8&&this.set_grid_param({grid_id:this.id,param:"clicksTo80",value:this.clicks_per_grid(this.id)}),e==this.bombs&&this.set_grid_param({grid_id:this.id,param:"clicksTo100",value:this.clicks_per_grid(this.id)})},fieldDone:function(e){!0===e&&this.mark_grid_done(this.id)}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(r["d"])(["totclicks"])),Object(r["b"])(["clicks_per_grid","get_grid"])),{},{mygrid:function(){return this.get_grid(this.id)},fieldDone:function(){var e=P.a.flattenDeep(this.minefield);return P.a.every(e,(function(e){return e.isMarked||e.isRevealed}))},clicks:function(){return this.clicks_per_grid(this.id)},bombStateText:function(){return this.amountOfCellsMarked+" "+this.flagIcon+" / "+this.amountOfBombs+"g "+this.bombIcon}}),methods:Object(o["a"])(Object(o["a"])({},Object(r["c"])({set_grid_param:"SET_GRID_PARAM",increase_clicks:"INCREASE_CLICKS",increase_my_clicks:"INCREASE_INDIVIDUAL_CLICKS",mark_grid_done:"MARK_GRID_DONE"})),{},{onModeChanged:function(e){console.log("Mode: "+(e?"Mine":"Flag")),this.mineModeEnabled=e},prepareNewGame:function(){this.gameOver=!1,this.firstClickHappened=!1,this.minefield.splice(0),this.bombList.splice(0),this.amountOfCellsMarked=0,this.size=this.fieldSize;var e=this.rows*this.columns;this.amountOfBombs=this.bombs,console.log(this.amountOfBombs+" / "+e+" cells will be bombs.");for(var t=0;t<this.rows;t++){this.$set(this.minefield,t,[]);for(var i=0;i<this.columns;i++)this.$set(this.minefield[t],i,{x:t,y:i,isBomb:!1,isRevealed:!1,isMarked:!1,proximityCount:0})}},placeMines:function(e){console.log("Creating field ("+this.rows+" x "+this.columns+") ...");for(var t=[],i=0;i<this.rows;i++)for(var n=0;n<this.columns;n++)e.x==i&&e.y==n||t.push({x:i,y:n});z(t);var s=this.amountOfBombs;while(s>0&&t.length>0){var l=t.pop(),o=this.minefield[l.x][l.y];o.isBomb=!0,this.bombList.push(o),s--}for(var r=0;r<this.bombList.length;r++){var a=this.bombList[r];this.doForAdjecentCells(a,(function(e){e.proximityCount++}))}},onCellClicked:function(e){this.increase_clicks(),this.increase_my_clicks(this.id),this.mineModeEnabled?this.onCellMined(e):this.onCellFlagged(e)},onCellMined:function(e){this.firstClickHappened||(this.firstClickHappened=!0,this.placeMines(e));var t=this.minefield[e.x][e.y];if(!this.gameOver&&void 0!==t){if(t.isMarked)return console.log("Can't mine marked tile: "+e.x+", "+e.y);if(console.log("Mining: "+e.x+", "+e.y+"..."),t.isRevealed=!0,t.isBomb)return;if(0==t.proximityCount){var i=this,n=function e(t){t.isRevealed||(t.isMarked&&(t.isMarked=!1,i.amountOfCellsMarked--),t.isRevealed=!0,0==t.proximityCount&&i.doForAdjecentCells(t,e))};i.doForAdjecentCells(t,n)}}},onCellFlagged:function(e){var t=this.minefield[e.x][e.y];if(!this.gameOver&&void 0!==t){if(t.isRevealed)return console.log("Can't flag revealed tile: "+e.x+", "+e.y);console.log("(Un)Flagging: "+e.x+", "+e.y+"..."),t.isMarked=!t.isMarked,this.amountOfCellsMarked+=t.isMarked?1:-1;for(var i=!0,n=0;n<this.bombList.length;n++)if(!this.bombList[n].isMarked){i=!1;break}this.firstClickHappened&&this.bombList.length==this.amountOfCellsMarked&&i&&this.setGameWon()}},doForAdjecentCells:function(e,t){for(var i=-1;i<2;i++)for(var n=-1;n<2;n++){var s=e.x+i,l=e.y+n;s>=0&&s<this.rows&&l>=0&&l<this.columns&&t(this.minefield[s][l])}},setGameOver:function(){this.gameOver=!0;for(var e=0;e<this.bombList.length;e++)this.bombList[e].isRevealed=!0},setGameWon:function(){this.gameOver=!0;for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++){var i=this.minefield[e][t];i.isRevealed=!i.isBomb}}})};function z(e){var t,i,n=e.length;while(0!==n)i=Math.floor(Math.random()*n),n-=1,t=e[n],e[n]=e[i],e[i]=t;return e}var H=F,K=(i("d5ce"),Object(d["a"])(H,$,G,!1,null,null,null)),U=K.exports,J=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"minefield",oncontextmenu:"return false;"}},e._l(e.minefield,(function(t){return i("div",{key:t.x,staticClass:"gamerow"},e._l(t,(function(t){return i("minesweeper-field-cell",{key:t.y,attrs:{cellData:t,bombIcon:e.bombIcon,flagIcon:e.flagIcon},on:{onCellLeftClicked:e.onCellLeftClicked,onCellRightClicked:e.onCellRightClicked}})})),1)})),0)},W=[],Y={props:{minefield:Array,bombIcon:{type:String,default:"💣"},flagIcon:{type:String,default:"❗"}},data:function(){return{}},methods:{onCellLeftClicked:function(e){this.$emit("onCellLeftClicked",e)},onCellRightClicked:function(e){this.$emit("onCellRightClicked",e)}}},Z=Y,q=(i("9920"),Object(d["a"])(Z,J,W,!1,null,null,null)),Q=q.exports,X=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"button-switch clear"},[i("button",{staticClass:"button-switch-button first",class:{selected:e.firstSelected},on:{click:e.selectFirst}},[e._v(" "+e._s(e.firstValue))]),i("button",{staticClass:"button-switch-button second",class:{selected:!e.firstSelected},on:{click:e.selectSecond}},[e._v(" "+e._s(e.secondValue)+" ")])])},ee=[],te={props:{firstValue:{default:"⛏",type:String},secondValue:{default:"🚩",type:String}},data:function(){return{firstSelected:!0}},methods:{selectFirst:function(){this.firstSelected=!0,this.$emit("onSelected",this.firstSelected)},selectSecond:function(){this.firstSelected=!1,this.$emit("onSelected",this.firstSelected)}}},ie=te,ne=(i("de8a"),Object(d["a"])(ie,X,ee,!1,null,null,null)),se=ne.exports,le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gamecell",class:{revealed:e.isRevealed},on:{click:e.onCellLeftClicked,contextmenu:function(t){return e.onCellRightClicked.apply(null,arguments)}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isValueVisible,expression:"isValueVisible"}],staticClass:"content"},[e._v(e._s(e.value))])])},oe=[],re={props:{cellData:Object,bombIcon:{type:String,default:"💣"},flagIcon:{type:String,default:"❗"}},data:function(){return{}},methods:{onCellLeftClicked:function(){this.$emit("onCellLeftClicked",{x:this.cellData.x,y:this.cellData.y})},onCellRightClicked:function(){this.$emit("onCellRightClicked",{x:this.cellData.x,y:this.cellData.y})}},computed:{value:function(){return this.isRevealed?this.cellData.isBomb?this.bombIcon:this.cellData.proximityCount>0?this.cellData.proximityCount:"":this.cellData.isMarked?this.flagIcon:""},isValueVisible:function(){return this.isRevealed||this.cellData.isMarked},isRevealed:function(){return this.cellData.isRevealed}}},ae=re,ce=(i("3c34"),Object(d["a"])(ae,le,oe,!1,null,null,null)),de=ce.exports,ue=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"my-3",attrs:{color:"red lighten-2",disabled:e.mygrid.done}},"v-btn",s,!1),n),[e._v(" Open grid ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("v-card",[i("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v(" Grid "+e._s(e.id)+" ")]),i("v-card-text",[i("minesweeper-game",{attrs:{rows:e.rows,columns:e.columns,bombs:e.bombs,id:e.id}})],1),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Close ")])],1)],1)],1)},fe=[],me={props:{id:Number,rows:{type:Number,default:10},columns:{type:Number,default:10},bombs:{type:Number,default:10}},data:function(){return{dialog:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(r["b"])(["get_grid"])),{},{mygrid:function(){return this.get_grid(this.id)}})},be=me,he=i("169a"),pe=i("ce7e"),ve=i("2fa4"),_e=Object(d["a"])(be,ue,fe,!1,null,null,null),ge=_e.exports;f()(_e,{VBtn:p["a"],VCard:v["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VDialog:he["a"],VDivider:pe["a"],VSpacer:ve["a"]});var ke=i("f309");n["a"].use(ke["a"]);var Ce=new ke["a"]({});n["a"].use(r["a"]);var ye=new r["a"].Store({state:{budget:20,max_clicks:400,remaining_clicks:400,totclicks:0,grids:[{rows:9,columns:9,bombs:11,lb:.04,ub:.06,used_clicks:0,recommended_clicks:95,done:!1},{rows:9,columns:9,bombs:11,lb:.04,ub:.06,used_clicks:0,recommended_clicks:95,done:!1},{rows:16,columns:16,bombs:40,lb:.06,ub:.09,used_clicks:0,recommended_clicks:95,done:!1},{rows:16,columns:16,bombs:40,lb:.06,ub:.09,used_clicks:0,recommended_clicks:95,done:!1},{rows:18,columns:20,bombs:60,lb:.09,ub:.12,used_clicks:0,recommended_clicks:95,done:!1},{rows:18,columns:20,bombs:60,lb:.09,ub:.12,used_clicks:0,recommended_clicks:95,done:!1}]},getters:{allGridsDone:function(e){return function(){return P.a.every(e.grids,(function(e){return e.done}))}},get_grid:function(e){return function(t){return e.grids[t]}},clicks_per_grid:function(e){return function(t){return e.grids[t].used_clicks}}},mutations:{SET_GRID_PARAM:function(e,t){var i=t.grid_id,n=t.param,s=t.value;console.debug("PIZDA",i,n,s),e.grids[i][n]=s},INCREASE_CLICKS:function(e){e.totclicks++},INCREASE_INDIVIDUAL_CLICKS:function(e,t){e.grids[t].used_clicks++},MARK_GRID_DONE:function(e,t){e.grids[t].done=!0}},actions:{},modules:{}});n["a"].component("minesweeper-header",D),n["a"].component("minesweeper-game",U),n["a"].component("minesweeper-field",Q),n["a"].component("minesweeper-field-cell",de),n["a"].component("minesweeper-footer",T),n["a"].component("app-button-switch",se),n["a"].component("game-dialog",ge),new n["a"]({el:"#app",vuetify:Ce,store:ye,render:function(e){return e(O)}})},"5c0b":function(e,t,i){"use strict";i("9c0c")},"94e7":function(e,t,i){"use strict";i("d21c")},9920:function(e,t,i){"use strict";i("d2d0")},"9c0c":function(e,t,i){},abe6:function(e,t,i){"use strict";i("25e6")},b6bc:function(e,t,i){},d21c:function(e,t,i){},d2d0:function(e,t,i){},d5ce:function(e,t,i){"use strict";i("ed87")},de8a:function(e,t,i){"use strict";i("23be")},ed87:function(e,t,i){}});