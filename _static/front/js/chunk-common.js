(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{"0565":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"minefield",oncontextmenu:"return false;"}},e._l(e.minefield,(function(t){return i("div",{key:t.x,staticClass:"gamerow"},e._l(t,(function(t){return i("minesweeper-field-cell",{key:t.y,attrs:{cellData:t,bombIcon:e.bombIcon,flagIcon:e.flagIcon},on:{onCellLeftClicked:e.onCellLeftClicked,onCellRightClicked:e.onCellRightClicked}})})),1)})),0)},s=[],o={props:{minefield:Array,bombIcon:{type:String,default:"💣"},flagIcon:{type:String,default:"❗"}},data:function(){return{}},methods:{onCellLeftClicked:function(e){this.$emit("onCellLeftClicked",e)},onCellRightClicked:function(e){this.$emit("onCellRightClicked",e)}}},a=o,r=(i("9920"),i("2877")),l=Object(r["a"])(a,n,s,!1,null,null,null);t["a"]=l.exports},"23be":function(e,t,i){},"25e6":function(e,t,i){},"3c34":function(e,t,i){"use strict";i("b6bc")},"402c":function(e,t,i){"use strict";var n=i("a026"),s=i("f309");n["a"].use(s["a"]),t["a"]=new s["a"]({icons:{iconfont:"mdi"}})},4360:function(e,t,i){"use strict";var n,s=i("ade3"),o=(i("5377"),i("a026")),a=i("2f62"),r=i("2ef0"),l=i.n(r);o["a"].use(a["a"]),t["a"]=new a["a"].Store({state:{return_to_frozen:!1,grid_dialog_open_id:null,unfrozen_dialog:!1,budget_dialog:!1,budget_counter:0,left_click_cost:window.left_click_cost,budget:20,freezable_grid_id:window.freezable_grid_id,max_clicks:window.max_clicks,remaining_clicks:window.max_clicks,totclicks:0,grids:window.grids,practice:window.practice,notes:window.notes||!1},getters:{allGridsDone:function(e){return function(){return l.a.every(e.grids,(function(e){return e.done}))}},num_frozen_clicks:function(e){var t=e.freezable_grid_id,i=e.grids;return function(){var e=i[t];return e.used_clicks}},limitExhausted:function(e){return function(){return e.totclicks>=e.max_clicks}},get_grid:function(e){return function(t){return e.grids[t]}},penalty_for_unmarked:function(e){return function(t){var i=e.grids[t];if(i.bombs_non_revealed>i.bombs80)return i.bombs80*i.penalty;var n=Math.max(i.bombs_non_revealed-Math.floor(.2*i.bombs),0);return n*i.penalty}},penalty_for_blown_up:function(e){return function(t){var i=e.grids[t];return i.bombs_blown*i.penalty}},total_penalty:function(e,t){var i=t.penalty_for_unmarked,n=t.penalty_for_blown_up;return function(e){return i(e)+n(e)}},benefit_for_work:function(e){return function(t){var i=e.grids[t];return(i.bombs_marked_correctly-i.bombs_blown)*i.penalty-i.used_clicks*e.left_click_cost}},clicks_per_grid:function(e){return function(t){return e.grids[t].used_clicks}}},mutations:(n={SET_RETURN_TO_FROZEN:function(e){e.return_to_frozen=!0},SET_FLAGS:function(e,t){var i=t.grid_id,n=t.value;e.grids[i].flags=n},SET_NUM_BLOWN_BOMBS:function(e,t){var i=t.grid_id,n=t.value;e.grids[i].bombs_blown=n}},Object(s["a"])(n,"SET_NUM_BLOWN_BOMBS",(function(e,t){var i=t.grid_id,n=t.value;e.grids[i].bombs_blown=n})),Object(s["a"])(n,"SET_NOTE",(function(e,t){var i=t.grid_id,n=t.noteText;e.grids[i].note=n})),Object(s["a"])(n,"SET_NUM_UNMARKED_BOMBS",(function(e,t){var i=t.grid_id,n=t.value;e.grids[i].bombs_non_revealed=n})),Object(s["a"])(n,"SET_NUM_MARKED_CORRECTLY",(function(e,t){var i=t.grid_id,n=t.value;e.grids[i].bombs_marked_correctly=n})),Object(s["a"])(n,"INCREASE_GRID_RIGHT_CLICKS",(function(e,t){e.grids[t].right_clicks++})),Object(s["a"])(n,"SET_GRID_PARAM",(function(e,t){var i=t.grid_id,n=t.param,s=t.value;e.grids[i][n]=s})),Object(s["a"])(n,"INCREASE_CLICKS",(function(e){e.totclicks++})),Object(s["a"])(n,"INCREASE_BUDGET_COUNTER",(function(e){e.budget_counter++})),Object(s["a"])(n,"INCREASE_INDIVIDUAL_CLICKS",(function(e,t){e.grids[t].used_clicks++})),Object(s["a"])(n,"MARK_GRID_DONE",(function(e,t){e.grids[t].done=!0})),Object(s["a"])(n,"FREEZE_GRID",(function(e,t){e.grids[t].frozen=!0})),Object(s["a"])(n,"UNFREEZE_GRID",(function(e,t){e.grids[t].frozen=!1})),Object(s["a"])(n,"FREEZE_GRID",(function(e,t){e.grids[t].frozen=!0})),Object(s["a"])(n,"OPEN_FROZEN_GRID",(function(e){e.grids[4].dialog_open=!0})),Object(s["a"])(n,"CLOSE_BUDGET_DIALOG",(function(e){e.budget_dialog=!1})),Object(s["a"])(n,"OPEN_BUDGET_DIALOG",(function(e){e.budget_dialog=!0})),Object(s["a"])(n,"OPEN_UNFROZEN_DIALOG",(function(e){e.unfrozen_dialog=!0})),Object(s["a"])(n,"SET_OPEN_GRID",(function(e,t){e.grid_dialog_open_id=t})),n),actions:{},modules:{}})},"6ed8":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"header"}},[i("h1",{staticClass:"title"},[e._v(e._s(e.title))])])},s=[],o={data:function(){return{title:"Minesweeper"}}},a=o,r=(i("abe6"),i("2877")),l=Object(r["a"])(a,n,s,!1,null,null,null);t["a"]=l.exports},"94e7":function(e,t,i){"use strict";i("d21c")},9874:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gamecell",class:{revealed:e.isRevealed},on:{click:e.onCellLeftClicked,contextmenu:function(t){return e.onCellRightClicked.apply(null,arguments)}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isValueVisible,expression:"isValueVisible"}],staticClass:"content"},[e._v(e._s(e.value))])])},s=[],o={props:{cellData:Object,bombIcon:{type:String,default:"💣"},flagIcon:{type:String,default:"❗"}},data:function(){return{}},methods:{onCellLeftClicked:function(){this.$emit("onCellLeftClicked",{x:this.cellData.x,y:this.cellData.y})},onCellRightClicked:function(){this.$emit("onCellRightClicked",{x:this.cellData.x,y:this.cellData.y})}},computed:{value:function(){return this.isRevealed?this.cellData.isBomb?this.bombIcon:this.cellData.proximityCount>0?this.cellData.proximityCount:"":this.cellData.isMarked?this.flagIcon:""},isValueVisible:function(){return this.isRevealed||this.cellData.isMarked},isRevealed:function(){return this.cellData.isRevealed}}},a=o,r=(i("3c34"),i("2877")),l=Object(r["a"])(a,n,s,!1,null,null,null);t["a"]=l.exports},9920:function(e,t,i){"use strict";i("d2d0")},abe6:function(e,t,i){"use strict";i("25e6")},b6bc:function(e,t,i){},d21c:function(e,t,i){},d2d0:function(e,t,i){},d5ce:function(e,t,i){"use strict";i("ed87")},de8a:function(e,t,i){"use strict";i("23be")},ed87:function(e,t,i){},ef3b:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"game"}},[i("v-overlay",{attrs:{absolute:!0,value:!0===e.frozen}},[i("div",{staticStyle:{width:"200px"}},[e._v(" This grid is now unavailable. Please work on another grid. At a future time, you will receive a message that you may choose to return to this grid. ")])]),e._e(),i("minesweeper-field",{attrs:{minefield:e.minefield},on:{onCellLeftClicked:e.onCellClicked,onCellRightClicked:e.onCellFlagged}})],1)},s=[],o=i("5530"),a=(i("a9e3"),i("4de4"),i("a434"),i("2ef0")),r=i.n(a),l=i("2f62"),c={props:{id:Number,practice:{type:Boolean,default:!1},bombIcon:{type:String,default:"💣"},flagIcon:{type:String,default:"❗"},rows:{type:Number,default:10},columns:{type:Number,default:10},bombs:{type:Number,default:10}},data:function(){return{frozen:!1,fieldSizeDefault:10,fieldSizeMin:5,fieldSizeMax:50,fieldSize:10,mineModeEnabled:!0,minefield:[[{x:0,y:0,isBomb:!1,isRevealed:!1,isMarked:!1,proximityCount:0}]],firstClickHappened:!1,bombList:[],totBombsTriggered:0,amountOfCellsMarked:0,amountOfBombs:0,gameOver:!1,gameStateText:""}},created:function(){console.debug("do we initialize??"),this.prepareNewGame()},watch:{clicks:function(e){var t=this,i=this.mygrid;if(i.freezable&&e>=this.mygrid.freeze_when&&!r.a.has(this.mygrid,"frozen")){console.debug("we are in"),this.freeze_grid(this.id);var n=this;setTimeout((function(){n.unfreeze_grid(t.id),n.frozen=!1,n.OPEN_UNFROZEN_DIALOG()}),1e3*window.freezeSeconds)}},penalty_for_unmarked:function(e){this.$emit("onPenaltyForUnmarked",e)},bombList:{handler:function(e,t){var i=r.a.filter(e,r.a.matches({isRevealed:!0}));i&&(this.totBombsTriggered=i.length,this.monitorBombs())},deep:!0},mygrid:{handler:function(e,t){this.frozen=e.frozen},deep:!0},amountOfCellsMarked:function(e){this.setFlags({grid_id:this.id,value:e}),this.monitorBombs()},numBlownBombs:function(e){this.setNumBlownBombs({grid_id:this.id,value:e})},numMarkedCorrectly:function(e){this.setNumMarkedCorrectly({grid_id:this.id,value:e})},numUnmarkedBombs:function(e){this.setNumUnmarkedBombs({grid_id:this.id,value:e})},fieldDone:function(e){!0===e&&this.mark_grid_done(this.id)}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(l["d"])(["totclicks"])),Object(l["b"])(["clicks_per_grid","get_grid"])),{},{freezable:function(){return this.mygrid.freezable},numBlownBombs:function(){return r.a.filter(this.bombList,r.a.matches({isBomb:!0,isMarked:!1,isRevealed:!0})).length},numUnmarkedBombs:function(){return r.a.filter(this.bombList,r.a.matches({isBomb:!0,isMarked:!1,isRevealed:!1})).length},numMarkedCorrectly:function(){return r.a.filter(this.bombList,r.a.matches({isBomb:!0,isMarked:!0,isRevealed:!1})).length},mygrid:function(){return this.get_grid(this.id)},fieldDone:function(){var e=r.a.flattenDeep(this.minefield);return r.a.every(e,(function(e){return e.isMarked||e.isRevealed}))},clicks:function(){return this.clicks_per_grid(this.id)},bombStateText:function(){return this.amountOfCellsMarked+" "+this.flagIcon+" / "+this.amountOfBombs+"g "+this.bombIcon}}),methods:Object(o["a"])(Object(o["a"])({monitorBombs:function(){var e=this.amountOfCellsMarked+this.totBombsTriggered;r.a.has(this.mygrid,"clicksTo80")||e/this.bombs>=.8&&this.set_grid_param({grid_id:this.id,param:"clicksTo80",value:this.clicks_per_grid(this.id)}),e==this.bombs&&this.set_grid_param({grid_id:this.id,param:"clicksTo100",value:this.clicks_per_grid(this.id)})}},Object(l["c"])({setFlags:"SET_FLAGS",OPEN_UNFROZEN_DIALOG:"OPEN_UNFROZEN_DIALOG",freeze_grid:"FREEZE_GRID",unfreeze_grid:"UNFREEZE_GRID",set_grid_param:"SET_GRID_PARAM",increase_clicks:"INCREASE_CLICKS",increase_my_clicks:"INCREASE_INDIVIDUAL_CLICKS",mark_grid_done:"MARK_GRID_DONE",setNumBlownBombs:"SET_NUM_BLOWN_BOMBS",setNumUnmarkedBombs:"SET_NUM_UNMARKED_BOMBS",increaseGridRightClicks:"INCREASE_GRID_RIGHT_CLICKS",setNumMarkedCorrectly:"SET_NUM_MARKED_CORRECTLY"})),{},{prepareNewGame:function(){this.gameOver=!1,this.firstClickHappened=!1,this.minefield.splice(0),this.bombList.splice(0),this.amountOfCellsMarked=0,this.size=this.fieldSize;var e=this.rows*this.columns;this.amountOfBombs=this.bombs,console.log(this.amountOfBombs+" / "+e+" cells will be bombs.");for(var t=0;t<this.rows;t++){this.$set(this.minefield,t,[]);for(var i=0;i<this.columns;i++)this.$set(this.minefield[t],i,{x:t,y:i,isBomb:!1,isRevealed:!1,isMarked:!1,proximityCount:0})}this.placeMines()},placeMines:function(){console.log("Creating field ("+this.rows+" x "+this.columns+") ...");for(var e=[],t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++)e.push({x:t,y:i});d(e);var n=this.amountOfBombs;while(n>0&&e.length>0){var s=e.pop(),o=this.minefield[s.x][s.y];o.isBomb=!0,this.bombList.push(o),n--}for(var a=0;a<this.bombList.length;a++){var r=this.bombList[a];this.doForAdjecentCells(r,(function(e){e.proximityCount++}))}},onCellClicked:function(e){this.onCellMined(e)},onCellMined:function(e){this.firstClickHappened||(this.firstClickHappened=!0);var t=this.minefield[e.x][e.y];if(t.isRevealed||(this.increase_clicks(),this.increase_my_clicks(this.id)),!this.gameOver&&void 0!==t){if(t.isMarked)return console.log("Can't mine marked tile: "+e.x+", "+e.y);if(console.log("Mining: "+e.x+", "+e.y+"..."),t.isRevealed=!0,t.isBomb)return;if(0==t.proximityCount){var i=this,n=function e(t){t.isRevealed||(t.isMarked&&(t.isMarked=!1,i.amountOfCellsMarked--),t.isRevealed=!0,0==t.proximityCount&&i.doForAdjecentCells(t,e))};i.doForAdjecentCells(t,n)}}},onCellFlagged:function(e){var t=this.minefield[e.x][e.y];if(!this.gameOver&&void 0!==t){if(t.isRevealed)return console.log("Can't flag revealed tile: "+e.x+", "+e.y);if(!t.isMarked&&this.amountOfCellsMarked>=this.bombs)return console.log("youve exhausted number of available markers");console.log("(Un)Flagging: "+e.x+", "+e.y+"..."),t.isMarked=!t.isMarked,this.increaseGridRightClicks(this.id),this.amountOfCellsMarked+=t.isMarked?1:-1;for(var i=!0,n=0;n<this.bombList.length;n++)if(!this.bombList[n].isMarked){i=!1;break}this.firstClickHappened&&this.bombList.length==this.amountOfCellsMarked&&i&&this.setGameWon()}},doForAdjecentCells:function(e,t){for(var i=-1;i<2;i++)for(var n=-1;n<2;n++){var s=e.x+i,o=e.y+n;s>=0&&s<this.rows&&o>=0&&o<this.columns&&t(this.minefield[s][o])}},setGameOver:function(){this.gameOver=!0;for(var e=0;e<this.bombList.length;e++)this.bombList[e].isRevealed=!0},setGameWon:function(){this.gameOver=!0}})};function d(e){var t,i,n=e.length;while(0!==n)i=Math.floor(Math.random()*n),n-=1,t=e[n],e[n]=e[i],e[i]=t;return e}var u=c,f=(i("d5ce"),i("2877")),_=i("6544"),m=i.n(_),b=i("a797"),h=Object(f["a"])(u,n,s,!1,null,null,null);t["a"]=h.exports;m()(h,{VOverlay:b["a"]})},f124:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"footer"}},[e._v(" Made by Jeroen Smienk ❤ - "),i("a",{attrs:{href:"https://github.com/jsmienk/MinesweeperVue",target:"_blank"}},[e._v("GitHub")])])}],o={data:function(){return{}}},a=o,r=(i("94e7"),i("2877")),l=Object(r["a"])(a,n,s,!1,null,null,null);t["a"]=l.exports},f46e:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"my-3",attrs:{color:"red lighten-2",disabled:e.mygrid.done}},"v-btn",s,!1),n),[e._v(" Open grid ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("v-card",[i("v-toolbar",[i("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[i("v-icon",[e._v("mdi-close")])],1),i("v-toolbar-title",[e._v(" Grid "+e._s(e.id+1))]),i("v-spacer"),i("v-toolbar-items",[i("v-btn",{attrs:{dark:"",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Close ")])],1)],1),i("v-card-text",[i("v-row",[i("v-col",[i("minesweeper-game",{attrs:{practice:!0,rows:e.rows,columns:e.columns,bombs:e.bombs,id:e.id},on:{onPenaltyForUnmarked:e.onPenaltyForUnmarked}})],1),e.$store.state.notes?i("v-col",[i("v-card",{staticClass:"my-3"},[i("v-card-text",[i("div",[e._v(" "+e._s(e.notes_message)+" ")]),i("v-textarea",{attrs:{outlined:""},on:{input:e.processNote}})],1)],1)],1):e._e(),i("v-col",[i("v-card",{staticClass:"my-3"},[i("v-card-title",[e._v("Info:")]),i("v-card-text",[i("v-list",{attrs:{dense:""}},[i("v-list-item-group",[i("v-list-item",[e._v(" Number of clicks used in this grid: "),i("div",{staticClass:"ml-auto"},[e._v(e._s(e.mygrid.used_clicks))])]),i("v-list-item",[e._v(" Total number of clicks used: "),i("div",{staticClass:"ml-auto"},[e._v(e._s(e.totclicks))])]),i("v-list-item",[e._v("Flag counter: "),i("div",{staticClass:"ml-auto"},[e._v(e._s(e.mygrid.flags))])]),i("v-list-item",[e._v("Bombs accidently opened: "),i("div",{staticClass:"ml-auto"},[e._v(e._s(e.mygrid.bombs_blown))])]),e.practice?i("div",[i("v-list-item",[e._v("Left clicks used: "),i("div",{staticClass:"ml-auto"},[e._v(e._s(e.mygrid.used_clicks))])]),i("v-list-item",[e._v("Right clicks used: "),i("div",{staticClass:"ml-auto"},[e._v(e._s(e.mygrid.right_clicks))])]),i("v-list-item",[e._v("Cost of each left click: "),i("div",{staticClass:"ml-auto"},[e._v(" $"+e._s(e.$store.state.left_click_cost)+" ")])]),i("v-list-item",[e._v("Penalty for accidental bombs: "),i("div",{staticClass:"ml-auto"},[e._v(" $ "+e._s(e.penalty_for_blown_up(this.id).toFixed(2))+" ")])]),i("v-list-item",[e._v("Penalty for remaining unmarked bombs: "),i("div",{staticClass:"ml-auto"},[e._v(" $"+e._s(e.penalty_for_unmarked(this.id).toFixed(2))+" ")])]),i("v-list-item",[e._v("Current earnings for grid: "),i("div",{staticClass:"ml-auto"},[e._v(" $"+e._s(e.benefit_for_work(this.id).toFixed(2))+" ")])])],1):e._e()],1)],1)],1)],1)],1)],1)],1),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Close ")])],1)],1)],1)},s=[],o=i("5530"),a=(i("a9e3"),i("2f62")),r={props:{dialog_open:{type:Boolean,default:!1},practice:{type:Boolean,default:!1},id:Number,rows:{type:Number,default:10},columns:{type:Number,default:10},bombs:{type:Number,default:10}},data:function(e){return{dialog:e.dialog_open,notes_message:window.notes_message}},watch:{grid_dialog_open_id:function(e){this.dialog=this.id===e}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(a["d"])(["grid_dialog_open_id","totclicks"])),Object(a["b"])(["get_grid","get_practice_grid","penalty_for_unmarked","penalty_for_blown_up","benefit_for_work"])),{},{mygrid:function(){return this.get_grid(this.id)},benefit:function(){}}),methods:Object(o["a"])(Object(o["a"])({},Object(a["c"])({setNote:"SET_NOTE"})),{},{onPenaltyForUnmarked:function(e){this.penalty_for_unmarked=e},processNote:function(e){this.setNote({noteText:e,grid_id:this.id})}})},l=r,c=i("2877"),d=i("6544"),u=i.n(d),f=i("8336"),_=i("b0af"),m=i("99d9"),b=i("62ad"),h=i("169a"),v=i("ce7e"),g=i("132d"),k=i("8860"),p=i("da13"),C=i("1baa"),y=i("0fd9"),O=i("2fa4"),E=i("a844"),w=i("71d9"),R=i("2a7f"),N=Object(c["a"])(l,n,s,!1,null,null,null);t["a"]=N.exports;u()(N,{VBtn:f["a"],VCard:_["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VCol:b["a"],VDialog:h["a"],VDivider:v["a"],VIcon:g["a"],VList:k["a"],VListItem:p["a"],VListItemGroup:C["a"],VRow:y["a"],VSpacer:O["a"],VTextarea:E["a"],VToolbar:w["a"],VToolbarItems:R["a"],VToolbarTitle:R["b"]})},fcc2:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"button-switch clear"},[i("button",{staticClass:"button-switch-button first",class:{selected:e.firstSelected},on:{click:e.selectFirst}},[e._v(" "+e._s(e.firstValue))]),i("button",{staticClass:"button-switch-button second",class:{selected:!e.firstSelected},on:{click:e.selectSecond}},[e._v(" "+e._s(e.secondValue)+" ")])])},s=[],o={props:{firstValue:{default:"⛏",type:String},secondValue:{default:"🚩",type:String}},data:function(){return{firstSelected:!0}},methods:{selectFirst:function(){this.firstSelected=!0,this.$emit("onSelected",this.firstSelected)},selectSecond:function(){this.firstSelected=!1,this.$emit("onSelected",this.firstSelected)}}},a=o,r=(i("de8a"),i("2877")),l=Object(r["a"])(a,n,s,!1,null,null,null);t["a"]=l.exports}}]);